<meta charset="utf-8">
<div id="main"></div>
<script src="https://unpkg.com/compromise/builds/compromise.min.js"></script>
<script src="main.js"></script>
<script>
    var app = Elm.Main.fullscreen();
    console.log(app);
    app.ports.sentences.subscribe(function(text) {
        var output = nlp(text).sentences().list.map(function(x) { return x.out('text').trim(); });
        app.ports.receiveSentences.send(output);
    });
    app.ports.normalize.subscribe(function(text) {
        console.log(text);
        var output = nlp(text).out('root');
        app.ports.receiveNormalize.send(output);
    });
    app.ports.playOneOf.subscribe(function(paths) {
        console.log(path);
        var path = paths[Math.floor(Math.random() * paths.length)];
        new Audio(path).play();
    });
</script>
